/*! For license information please see mybricks.normal-pc.calendar.js.LICENSE.txt */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react"),require("moment"),require("antd")):"function"==typeof define&&define.amd?define(["react","moment","antd"],t):"object"==typeof exports?exports.MybricksComDef=t(require("react"),require("moment"),require("antd")):e.MybricksComDef=t(e.React,e.moment,e.antd)}(self,((e,t,n)=>(()=>{var r={1101:(e,t)=>{var n;!function(){"use strict";var r={}.hasOwnProperty;function a(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var o=typeof n;if("string"===o||"number"===o)e.push(n);else if(Array.isArray(n)){if(n.length){var c=a.apply(null,n);c&&e.push(c)}}else if("object"===o){if(n.toString!==Object.prototype.toString&&!n.toString.toString().includes("[native code]")){e.push(n.toString());continue}for(var i in n)r.call(n,i)&&n[i]&&e.push(i)}}}return e.join(" ")}e.exports?(a.default=a,e.exports=a):void 0===(n=function(){return a}.apply(t,[]))||(e.exports=n)}()},8814:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",r=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),r&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),r&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,r,a,o){"string"==typeof e&&(e=[[null,e,void 0]]);var c={};if(r)for(var i=0;i<this.length;i++){var s=this[i][0];null!=s&&(c[s]=!0)}for(var u=0;u<e.length;u++){var l=[].concat(e[u]);r&&c[l[0]]||(void 0!==o&&(void 0===l[5]||(l[1]="@layer".concat(l[5].length>0?" ".concat(l[5]):""," {").concat(l[1],"}")),l[5]=o),n&&(l[2]?(l[1]="@media ".concat(l[2]," {").concat(l[1],"}"),l[2]=n):l[2]=n),a&&(l[4]?(l[1]="@supports (".concat(l[4],") {").concat(l[1],"}"),l[4]=a):l[4]="".concat(a)),t.push(l))}},t}},7009:e=>{"use strict";e.exports=function(e){return e[1]}},2374:(e,t,n)=>{"use strict";n.d(t,{Z:()=>O});var r,a,o,c,i=n(359),s=n.n(i),u=n(3192),l=n.n(u),d=n(1101),f=n.n(d),p=n(2721);!function(e){e.DataSource="dataSource",e.CurrentDate="currentDate",e.CurrentDs="currentDs"}(r||(r={})),function(e){e.ClickDate="clickDate",e.ClickMonth="clickMonth",e.MonthChange="monthChange",e.DateChange="dateChange",e.ModeChange="modeChange"}(a||(a={})),function(e){e.DateCell="dateCell",e.HeaderRender="headerRender"}(o||(o={})),function(e){e.Month="month",e.Year="year",e.Date="date"}(c||(c={}));var h=n(3379),m=n.n(h),v=n(7795),y=n.n(v),M=n(569),g=n.n(M),C=n(8575),Y=n.n(C),b=n(9216),S=n.n(b),D=n(4589),k=n.n(D),x=n(833),w={attributes:{title:"less"}};w.styleTagTransform=k(),w.setAttributes=Y(),w.insert=g().bind(null,"head"),w.domAPI=y(),w.insertStyleElement=S(),m()(x.Z,w);const E=x.Z&&x.Z.locals?x.Z.locals:void 0;var j=function(){return j=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},j.apply(this,arguments)},N=function(e,t){return t=t||"YYYY-MM-DD",(e=l()(e)).isValid()?e.format(t):l()().format(t)};const O=function(e){var t=e.env,n=e.data,u=e.slots,d=e.inputs,h=e.outputs,m=e.logger,v=e.title,y=n||{},M=(y.useCustomHeader,y.useCustomDateCell),g=y.useModeSwitch,C=y.useMonthSelect,Y=y.useYearSelect,b=(0,i.useState)({}),S=b[0],D=b[1],k=(0,i.useState)(),x=k[0],w=k[1],O=(0,i.useRef)({});(0,i.useEffect)((function(){var e;if(t.edit){var n=N(),a=N(l()(),"YYYY-MM");D(((e={})[a]=["字符串数据",{color:"red",content:"带颜色标签的数据"}],e[n]=["字符串数据",{color:"red",content:"带颜色标签的数据"}],e))}t.runtime&&d[r.DataSource]&&d[r.DataSource]((function(e){e&&"object"==typeof e&&D(e)})),t.runtime&&d[r.CurrentDate]&&d[r.CurrentDate]((function(e){var t,n,r,a=(t=e,n=l()(t).isValid(),r=Number(t),n?l()(t):isNaN(r)?void 0:l()(r));a?T(a):m.warn("".concat(v,": 设置当前日期输入不合法")),w(a||x)}))}),[]);var A=function(e,t){return(t=t||c.Date)===c.Date?{mode:n.mode,dataSource:S[N(e)]||[],date:N(e)}:{mode:n.mode,date:N(e),month:N(e,"YYYY-MM"),dataSource:S[N(e,"YYYY-MM")]||[],firstDate:N(e.startOf(c.Month)),lastDate:N(e.endOf(c.Month))}},T=function(e){var t=N(x,"YYYY-MM"),r=N(e,"YYYY-MM");w(l()(e)),P(e,n.mode),h[a.DateChange]&&h[a.DateChange](A(e)),t!==r&&h[a.MonthChange]&&h[a.MonthChange](A(e,c.Month))},P=function(e,t){if(O.current&&O.current.fn){var n={};e&&(n.value=e),t&&(n.type=t),O.current.fn(j(j({},O.current.props),n))}},R=function(e,t){var n=e||{},r=n.color,a=n.content;return a&&r?s().createElement(p.Badge,{color:r,text:a,key:t}):s().createElement("div",{key:t},a||e)},q=function(e,t){var n,a=S[N(e,t?"YYYY-MM":"YYYY-MM-DD")]||[];return!t&&M&&u[o.DateCell]?u[o.DateCell].render({inputValues:(n={},n[r.CurrentDate]=N(e),n[r.CurrentDs]=Array.isArray(a)?a:[a],n)}):(Array.isArray(a)?a:[a]).map(R)};return s().createElement(p.Calendar,{mode:n.mode,className:f()(E.calendar,!g&&E.hideModeSwitch,!C&&E.hideMonthSwitch,!Y&&E.hideYearSwitch),onPanelChange:function(e,t){h[a.ModeChange]&&t!==n.mode&&h[a.ModeChange](j(j({},A(e,t===c.Year?c.Month:c.Date)),{mode:t})),n.mode=t,P(e,t)},dateFullCellRender:function(e){return s().createElement("div",{className:"ant-picker-calendar-date",onClick:function(){return function(e){h[a.ClickDate]&&h[a.ClickDate](A(e))}(e)}},s().createElement("div",{className:"ant-picker-calendar-date-value"},N(e,"DD")),s().createElement("div",{className:"ant-picker-calendar-date-content"},q(e)))},monthFullCellRender:function(e){var t=N(e,"YYYY-MM")===N(l()(),"YYYY-MM");return s().createElement("div",{onClick:function(){return function(e){h[a.ClickMonth]&&h[a.ClickMonth](A(e,c.Month))}(e)},className:f()("ant-picker-cell-inner","ant-picker-calendar-date",t&&"ant-picker-calendar-date-today")},s().createElement("div",{className:"ant-picker-calendar-date-value"},N(e,"M月")),s().createElement("div",{className:"ant-picker-calendar-date-content"},q(e,!0)))},onChange:T,value:x})}},833:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(7009),a=n.n(r),o=n(8814),c=n.n(o)()(a());c.push([e.id,".hideModeSwitch-ca333 .ant-picker-calendar-mode-switch {\n  display: none;\n}\n.hideYearSwitch-e8678 .ant-picker-calendar-year-select {\n  display: none;\n}\n.hideMonthSwitch-cd2a6 .ant-picker-calendar-month-select {\n  display: none;\n}\n.calendar-ceb6d .ant-picker-cell-today .ant-picker-calendar-date {\n  border-color: #0075ff !important;\n}\n.calendar-ceb6d .ant-picker-calendar-date-content {\n  display: flex;\n  flex-direction: column;\n}\n",""]),c.locals={hideModeSwitch:"hideModeSwitch-ca333",hideYearSwitch:"hideYearSwitch-e8678",hideMonthSwitch:"hideMonthSwitch-cd2a6",calendar:"calendar-ceb6d"};const i=c},3379:e=>{"use strict";var t=[];function n(e){for(var n=-1,r=0;r<t.length;r++)if(t[r].identifier===e){n=r;break}return n}function r(e,r){for(var o={},c=[],i=0;i<e.length;i++){var s=e[i],u=r.base?s[0]+r.base:s[0],l=o[u]||0,d="".concat(u," ").concat(l);o[u]=l+1;var f=n(d),p={css:s[1],media:s[2],sourceMap:s[3],supports:s[4],layer:s[5]};if(-1!==f)t[f].references++,t[f].updater(p);else{var h=a(p,r);r.byIndex=i,t.splice(i,0,{identifier:d,updater:h,references:1})}c.push(d)}return c}function a(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,a){var o=r(e=e||[],a=a||{});return function(e){e=e||[];for(var c=0;c<o.length;c++){var i=n(o[c]);t[i].references--}for(var s=r(e,a),u=0;u<o.length;u++){var l=n(o[u]);0===t[l].references&&(t[l].updater(),t.splice(l,1))}o=s}}},569:e=>{"use strict";var t={};e.exports=function(e,n){var r=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},9216:e=>{"use strict";e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},8575:e=>{"use strict";e.exports=function(e,t){Object.keys(t).forEach((function(n){e.setAttribute(n,t[n])}))}},7795:e=>{"use strict";e.exports=function(e){var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var a=void 0!==n.layer;a&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,a&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var o=n.sourceMap;o&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),t.styleTagTransform(r,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},4589:e=>{"use strict";e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},2721:e=>{"use strict";e.exports=n},3192:e=>{"use strict";e.exports=t},359:t=>{"use strict";t.exports=e}},a={};function o(e){var t=a[e];if(void 0!==t)return t.exports;var n=a[e]={id:e,exports:{}};return r[e](n,n.exports,o),n.exports}o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},o.d=(e,t)=>{for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var c={};return(()=>{"use strict";let e;o.r(c),o.d(c,{default:()=>t}),e={namespace:"mybricks.normal-pc.calendar",version:"1.0.0",runtime:o(2374).Z};const t=e})(),c})()));