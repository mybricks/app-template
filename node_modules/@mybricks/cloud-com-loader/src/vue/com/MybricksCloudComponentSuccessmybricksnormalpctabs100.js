/*! For license information please see mybricks.normal-pc.tabs.js.LICENSE.txt */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react"),require("antd"),require("@ant-design/icons")):"function"==typeof define&&define.amd?define(["react","antd","@ant-design/icons"],t):"object"==typeof exports?exports.MybricksComDef=t(require("react"),require("antd"),require("@ant-design/icons")):e.MybricksComDef=t(e.React,e.antd,e.icons)}(self,((e,t,n)=>(()=>{var r={1101:(e,t)=>{var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var a=typeof n;if("string"===a||"number"===a)e.push(n);else if(Array.isArray(n)){if(n.length){var o=i.apply(null,n);o&&e.push(o)}}else if("object"===a){if(n.toString!==Object.prototype.toString&&!n.toString.toString().includes("[native code]")){e.push(n.toString());continue}for(var c in n)r.call(n,c)&&n[c]&&e.push(c)}}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},8814:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",r=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),r&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),r&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,r,i,a){"string"==typeof e&&(e=[[null,e,void 0]]);var o={};if(r)for(var c=0;c<this.length;c++){var s=this[c][0];null!=s&&(o[s]=!0)}for(var u=0;u<e.length;u++){var l=[].concat(e[u]);r&&o[l[0]]||(void 0!==a&&(void 0===l[5]||(l[1]="@layer".concat(l[5].length>0?" ".concat(l[5]):""," {").concat(l[1],"}")),l[5]=a),n&&(l[2]?(l[1]="@media ".concat(l[2]," {").concat(l[1],"}"),l[2]=n):l[2]=n),i&&(l[4]?(l[1]="@supports (".concat(l[4],") {").concat(l[1],"}"),l[4]=i):l[4]="".concat(i)),t.push(l))}},t}},7009:e=>{"use strict";e.exports=function(e){return e[1]}},9800:(e,t,n)=>{"use strict";n.d(t,{Z:()=>P});var r,i,a,o=n(359),c=n.n(o),s=n(1101),u=n.n(s),l=n(2721);!function(e){e.LeftExtra="leftExtra",e.RigthExtra="rigthExtra"}(r||(r={})),function(e){e.SetActiveTab="active",e.PreviousTab="previous",e.NextTab="next",e.OutActiveTab="outActiveTab",e.SetShowTab="setShowTab"}(i||(i={})),function(e){e.OnTabClick="tabClick",e.OutActiveTab="outActiveTab"}(a||(a={}));var f=n(3379),d=n.n(f),v=n(7795),p=n.n(v),b=n(569),y=n.n(b),m=n(8575),h=n.n(m),g=n(9216),x=n.n(g),T=n(4589),A=n.n(T),k=n(9416),E={attributes:{title:"less"}};E.styleTagTransform=A(),E.setAttributes=h(),E.insert=y().bind(null,"head"),E.domAPI=p(),E.insertStyleElement=x(),d()(k.Z,E);const S=k.Z&&k.Z.locals?k.Z.locals:void 0;var L=n(2710),C=l.Tabs.TabPane,K=function(e){var t,n=e.icon,r=L&&(null===(t=L[n])||void 0===t?void 0:t.render());return c().createElement(c().Fragment,null,r)};function P(e){var t,n,s=e.env,f=e.data,d=e.slots,v=e.inputs,p=e.outputs,b=(0,o.useState)((function(){var e;return(null===(e=f.tabList)||void 0===e?void 0:e.map((function(e){return e.id})))||[]})),y=b[0],m=b[1],h=(t=f.defaultActiveKey,n=(0,o.useRef)(),(0,o.useEffect)((function(){n.current=t}),[t]),n.current),g=(0,o.useCallback)((function(e){return void 0===e&&(e=f.defaultActiveKey),f.tabList.find((function(t){var n=t.id,r=t.permissionKey,i=t.key;return(!r||s.hasPermission({key:r}))&&(null==y?void 0:y.includes(n))&&i===e}))}),[y]);(0,o.useEffect)((function(){s.runtime&&(f.tabList.length&&!f.active&&(f.defaultActiveKey=f.tabList[0].key),v[i.SetActiveTab]((function(e){var t=f.tabList.find((function(t){return t.id===e}));if(t){var n=t.permissionKey;if(!n||n&&s.hasPermission({key:n}))return f.defaultActiveKey=t.key,void(f.active=!0)}f.defaultActiveKey=void 0,f.active=!1,l.message.error("标签页不存在")})),v[i.PreviousTab]((function(){var e=f.tabList.findIndex((function(e){return e.key===f.defaultActiveKey}));f.tabList[e-1]&&(f.defaultActiveKey=f.tabList[e-1].key)})),v[i.NextTab]((function(){var e=f.tabList.findIndex((function(e){return e.key===f.defaultActiveKey}));f.tabList[e+1]&&(f.defaultActiveKey=f.tabList[e+1].key)})),v[i.OutActiveTab]((function(e,t){var n=g();t[a.OutActiveTab](n)})),f.tabList.forEach((function(e){e.dynamic&&v[e.key]&&v[e.key]((function(t){"string"==typeof t||"number"==typeof t?e.num=t:(e.num=void 0,console.error("只支持类型为string或者number的作为tab的name"))}))})),f.useDynamicTab&&v[i.SetShowTab]((function(e){if(Array.isArray(e)){var t=e.filter((function(e){return"string"==typeof e}));m(t)}})))}),[]),(0,o.useEffect)((function(){s.runtime&&T().then(x)}),[f.defaultActiveKey,y]);var x=function(){var e=g();e&&p["".concat(e.id,"_into")]()},T=function(){if(void 0===h)return Promise.resolve();var e=g(h);return Promise.all([p["".concat(e.id,"_leave")]()])},A=(0,o.useCallback)((function(e){if(s.runtime&&p&&p[a.OnTabClick]){var t=f.tabList.find((function(t){return t.key===e}))||{},n=t.id,r=t.name;p[a.OnTabClick]({id:n,name:r})}f.prohibitClick||(f.defaultActiveKey=e)}),[]);return c().createElement("div",{className:S.tabbox},c().createElement(l.Tabs,{activeKey:f.defaultActiveKey,type:f.type,centered:f.centered,tabPosition:f.tabPosition,onChange:A,hideAdd:!0,onEdit:s.edit?void 0:function(e,t){({remove:function(e){var t,n=f.defaultActiveKey;f.tabList.forEach((function(n,r){n.key===e&&(t=r-1)}));var r=f.tabList.filter((function(t){return t.key!==e}));r.length&&n===e&&(n=t>=0?r[t].key:r[0].key),f.tabList=r,f.defaultActiveKey=n}})[t](e)},tabBarExtraContent:{left:f.useLeftExtra?d[r.LeftExtra].render():void 0,right:f.useRigthExtra?d[r.RigthExtra].render():void 0}},c().createElement(c().Fragment,null,f.tabList.map((function(e){var t,n=s.i18n(e.name);return s.runtime&&(e.permissionKey&&!s.hasPermission({key:e.permissionKey})||!(null==y?void 0:y.includes(e.id)))?null:c().createElement(C,{tab:c().createElement(l.Tooltip,{title:s.i18n(e.tooltipText)},c().createElement("span",null,e.showIcon?K({icon:e.icon}):null,void 0===e.num?n:"".concat(n," (").concat(e.num,")"))),key:e.key,closable:!!e.closable},f.hideSlots?null:c().createElement("div",{className:u()(S.content,s.edit&&S.minHeight)},null===(t=d[e.id])||void 0===t?void 0:t.render()))})))))}},9416:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(7009),i=n.n(r),a=n(8814),o=n.n(a)()(i());o.push([e.id,".tabbox-e9354 .ant-tabs-tab .anticon {\n  margin-right: 4px;\n}\n.tabbox-e9354 .minHeight-a09bd {\n  min-height: 100px;\n}\n.tabbox-e9354 .content-dbd9d {\n  height: 100%;\n}\n",""]),o.locals={tabbox:"tabbox-e9354",minHeight:"minHeight-a09bd",content:"content-dbd9d"};const c=o},3379:e=>{"use strict";var t=[];function n(e){for(var n=-1,r=0;r<t.length;r++)if(t[r].identifier===e){n=r;break}return n}function r(e,r){for(var a={},o=[],c=0;c<e.length;c++){var s=e[c],u=r.base?s[0]+r.base:s[0],l=a[u]||0,f="".concat(u," ").concat(l);a[u]=l+1;var d=n(f),v={css:s[1],media:s[2],sourceMap:s[3],supports:s[4],layer:s[5]};if(-1!==d)t[d].references++,t[d].updater(v);else{var p=i(v,r);r.byIndex=c,t.splice(c,0,{identifier:f,updater:p,references:1})}o.push(f)}return o}function i(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,i){var a=r(e=e||[],i=i||{});return function(e){e=e||[];for(var o=0;o<a.length;o++){var c=n(a[o]);t[c].references--}for(var s=r(e,i),u=0;u<a.length;u++){var l=n(a[u]);0===t[l].references&&(t[l].updater(),t.splice(l,1))}a=s}}},569:e=>{"use strict";var t={};e.exports=function(e,n){var r=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},9216:e=>{"use strict";e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},8575:e=>{"use strict";e.exports=function(e,t){Object.keys(t).forEach((function(n){e.setAttribute(n,t[n])}))}},7795:e=>{"use strict";e.exports=function(e){var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var i=void 0!==n.layer;i&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,i&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var a=n.sourceMap;a&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),t.styleTagTransform(r,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},4589:e=>{"use strict";e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},2721:e=>{"use strict";e.exports=t},2710:e=>{"use strict";e.exports=n},359:t=>{"use strict";t.exports=e}},i={};function a(e){var t=i[e];if(void 0!==t)return t.exports;var n=i[e]={id:e,exports:{}};return r[e](n,n.exports,a),n.exports}a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},a.d=(e,t)=>{for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),a.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var o={};return(()=>{"use strict";let e;a.r(o),a.d(o,{default:()=>t}),e={namespace:"mybricks.normal-pc.tabs",version:"1.0.0",runtime:a(9800).Z};const t=e})(),o})()));