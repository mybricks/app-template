!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react"),require("antd")):"function"==typeof define&&define.amd?define(["react","antd"],t):"object"==typeof exports?exports.MybricksComDef=t(require("react"),require("antd")):e.MybricksComDef=t(e.React,e.antd)}(self,((e,t)=>(()=>{"use strict";var n={8814:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",r=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),r&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),r&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,r,o,a){"string"==typeof e&&(e=[[null,e,void 0]]);var i={};if(r)for(var c=0;c<this.length;c++){var s=this[c][0];null!=s&&(i[s]=!0)}for(var u=0;u<e.length;u++){var l=[].concat(e[u]);r&&i[l[0]]||(void 0!==a&&(void 0===l[5]||(l[1]="@layer".concat(l[5].length>0?" ".concat(l[5]):""," {").concat(l[1],"}")),l[5]=a),n&&(l[2]?(l[1]="@media ".concat(l[2]," {").concat(l[1],"}"),l[2]=n):l[2]=n),o&&(l[4]?(l[1]="@supports (".concat(l[4],") {").concat(l[1],"}"),l[4]=o):l[4]="".concat(o)),t.push(l))}},t}},7009:e=>{e.exports=function(e){return e[1]}},8274:(e,t,n)=>{n.d(t,{Z:()=>Z});var r=n(359),o=n.n(r),a=n(2721),i=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,a=t.length;o<a;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))},c=window.setInterval,s=window.clearInterval,u=window.setTimeout,l=window.clearTimeout,f=window,d=new WeakMap,p=new WeakMap,v=new WeakMap,y={undefined:!0,Array:!0,Object:!0,String:!0,Boolean:!0,Math:!0,Number:!0,Symbol:!0,parseFloat:!0,Float32Array:!0};function h(){var e={};return Object.getOwnPropertyNames(f).forEach((function(t){var n=Object.getOwnPropertyDescriptor(f,t);if(n&&!n.configurable){var r=Object.prototype.hasOwnProperty.call(n,"get");"top"!==t&&"parent"!==t&&"self"!==t&&"window"!==t||(n.configurable=!0,r||(n.writable=!0)),Object.defineProperty(e,t,Object.freeze(n))}})),e}var m=function(){function e(e){void 0===e&&(e={});var t=this;this.hasDisposed=!1,this.fakeWindow=h(),this.timeoutList=[],this.intervalList=[],this.options={},this.options=e||{},this.proxy=new Proxy(window,{set:function(e,n,r){if(!t.hasDisposed)try{!t.fakeWindow.hasOwnProperty(n)&&e.hasOwnProperty(n)&&(o=n,a=t.fakeWindow,(i=Object.getOwnPropertyDescriptor(window,o))&&i.writable&&Object.defineProperty(a,o,{configurable:i.configurable,enumerable:i.enumerable,writable:i.writable,value:i.value})),t.fakeWindow[n]=r}catch(e){throw console.error("set-key-error",n,e),e}var o,a,i;return!0},get:function(e,n){if(n===Symbol.unscopables)return y;if("window"===n||"self"===n)return t.proxy;if("document"!==n){if("hasOwnProperty"===n)return e.hasOwnProperty;if("eval"===n)return e.eval;if("location"===n)return e.location;try{var r=n in t.fakeWindow?t.fakeWindow[n]:e[n];return"function"!=typeof r||function(e){if(p.has(e))return p.get(e);var t=0===e.name.indexOf("bound ")&&!e.hasOwnProperty("prototype");return p.set(e,t),t}(r)||function(e){if(d.has(e))return d.get(e);var t=e.prototype&&e.prototype.constructor===e&&Object.getOwnPropertyNames(e.prototype).length>1||/^function\b\s[A-Z].*/.test(e.toString())||/^class\b/.test(e.toString());return d.set(e,t),t}(r)?r:(r=Function.prototype.bind.call(r,e),function(e,t){var n=v.get(t);if(n)return n;var r=Function.prototype.bind.call(t,e);for(var o in t)r[o]=t[o];return t.hasOwnProperty("prototype")&&!r.hasOwnProperty("prototype")&&(r.prototype=t.prototype),v.set(t,r),r}(window,r))}catch(e){throw console.error("get-key-error",n,e),e}}},has:function(e,n){return!t.options.module||"params"!==n&&"cb"!==n}}),this.proxy.setTimeout=function(e,n){for(var r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];if(t.hasDisposed)return 0;var a=u.apply(void 0,i([e,n],r,!1));return t.timeoutList.push(a),a},this.proxy.clearTimeout=function(e){var n=t.timeoutList.indexOf(e);return-1!==n&&t.timeoutList.splice(n,1),l(e)},this.proxy.setInterval=function(e,n){for(var r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];if(t.hasDisposed)return 0;var a=c.apply(void 0,i([e,n],r,!1));return t.intervalList.push(a),a},this.proxy.clearInterval=function(e){var n=t.intervalList.indexOf(e);return-1!==n&&t.intervalList.splice(n,1),s(e)},f.proxy=this.proxy}return e.prototype.compile=function(e){if(this.hasDisposed)throw new Error("sandbox has been destroyed");var t,n=this.options.module;t=n?function(e){return"(\n                function(window, params, cb) {\n                    with(window) {\n                        return (".concat(e,")(...params, cb)\n                    }\n                }\n            )")}(e):function(e){return"(\n                function(window) {\n                    with(window){\n                        ".concat(e,"\n                    } \n                }\n            ).bind(window.proxy)\n        ")}(e);var r=f.eval(t);return{run:function(e,t){try{return n?r(window.proxy,e,t):r(window.proxy)}catch(e){throw console.error("js sandbox error occur:",e),e}}}},e.prototype.dispose=function(){this.timeoutList.forEach((function(e){window.clearTimeout(e)})),this.timeoutList=[],this.intervalList.forEach((function(e){return s(e)})),this.intervalList=[],this.fakeWindow=h(),this.options={},delete f.proxy,this.hasDisposed=!0,console.log("Sandbox was successfully destroyed")},e}();const b=m;var g,w,O=function(){return O=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},O.apply(this,arguments)};!function(e){e.REQUIRED="required",e.MIN="min",e.MAX="max",e.MIN_LENGTH="minLength",e.MAX_LENGTH="maxLength",e.REG_EXP="regExp",e.CODE_VALIDATOR="codeValidator"}(w||(w={}));var x=[{key:w.REQUIRED,status:!1,visible:!0,title:"必填",message:"内容不能为空"},{key:w.CODE_VALIDATOR,status:!1,visible:!0,title:"代码校验",validateCode:"export default async function (value, context) {\n  if (!value && ![0, false].includes(value)) {\n    context.failed(`内容不能为空`);\n  } else {\n    context.successed();\n  }\n}\n"}],E=((g={})[w.REQUIRED]=function(e){var t=e.value,n=e.message,r=e.failed,o=e.successed;return t||[0,!1].includes(t)?Array.isArray(t)&&t.length<1?r(n):o():r(n)},g[w.CODE_VALIDATOR]=function(e){return function(e,t,n){var r,o=n||{},a=o.env,i=o.callback,c=void 0===i?function(){}:i,s=(null==a?void 0:a.runtime)&&!(null===(r=null==a?void 0:a.runtime)||void 0===r?void 0:r.debug);"object"==typeof e&&(e=s&&(null==e?void 0:e.transformCode)||(null==e?void 0:e.code));var u=null;if(t&&t.length){var l=new b({module:!0}),f=decodeURIComponent(e);u=/export\s+default.*async.*function.*\(/g.test(f)?l.compile("".concat(f.replace(/export\s+default.*function.*\(/g,"async function _RT_("))):l.compile("".concat(f.replace(/export\s+default.*function.*\(/g,"function _RT_(")))}else u=(l=new b).compile("".concat(decodeURIComponent(e)));return u.run(t,c)}(e.validateCode,e.args,{env:e.env})},g),j=n(3379),A=n.n(j),k=n(7795),L=n.n(k),T=n(569),C=n.n(T),D=n(8575),N=n.n(D),P=n(9216),I=n.n(P),M=n(4589),S=n.n(M),R=n(1519),U={attributes:{title:"less"}};U.styleTagTransform=S(),U.setAttributes=N(),U.insert=C().bind(null,"head"),U.domAPI=L(),U.insertStyleElement=I(),A()(R.Z,U);const _=R.Z&&R.Z.locals?R.Z.locals:void 0;var F={OBJECT:"[object Object]",ARRAY:"[object Array]",STRING:"[object String]",NUMBER:"[object Number]",FORMDATA:"[object FormData]",NULL:"[object Null]",UNDEFINED:"[object Undefined]",BOOLEAN:"[object Boolean]",FUNCTION:"[object Function]"};function V(e,t){void 0===e&&(e="u_"),void 0===t&&(t=6);for(var n="abcdefhijkmnprstwxyz0123456789",r=n.length,o="",a=0;a<t;a++)o+=n.charAt(Math.floor(Math.random()*r));return e+o}function W(e,t){if(Array.isArray(t)){for(var n=!1,r=0;r<t.length;r++)if(W(e,t[r])){n=!0;break}return n}var o=/^\[.*\]$/.test(t)?t:F[t.toUpperCase()];return Object.prototype.toString.call(e)===o}var B=function(){return B=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},B.apply(this,arguments)};function Z(e){var t=e.env,n=e.data,i=e.inputs,c=e.outputs,s=e.logger;(0,r.useLayoutEffect)((function(){i.validate((function(e,r){(function(e){var t=e.value,n=e.env,r=(e.rules||x).filter((function(e){return e.status}));return new Promise((function(e,o){Promise.all(r.map((function(e){return new Promise((function(r,o){var a={successed:function(){return r("success")},failed:function(e){return o(e)}};E[e.key](O({value:t,env:n,args:[t,O(O({},n),a)],validateCode:e.validateCode,message:e.message},a))}))}))).then((function(t){e({validateStatus:"success"})})).catch((function(e){o({validateStatus:"error",help:e})}))}))})({value:n.value,env:t,rules:n.rules}).then((function(e){r.returnValidate(e)})).catch((function(e){r.returnValidate(e)}))})),i.getValue((function(e,t){t.returnValue(n.value)})),i.setValue((function(e){n.config.mode&&["multiple","tags"].includes(n.config.mode)&&!Array.isArray(e)?s.error("".concat("multiple"===n.config.mode?"多选下拉框":"标签多选框","的值应为数组格式")):W(e,["NUMBER","BOOLEAN","STRING","UNDEFINED"])?(n.value=e,u(n.value)):s.error("下拉框的值应为基本类型")})),i.resetValue((function(){n.value=void 0})),i.setOptions((function(e){var t=[];Array.isArray(e)?e.forEach((function(e,n){t.push(B({checked:!1,disabled:!1,lable:"选项".concat(n),value:"".concat(V())},e))})):t=[B({checked:!1,disabled:!1,lable:"选项",value:"".concat(V())},e||{})];var r,o=[],a=!1;t.map((function(e){var t=e.checked,n=e.value;t&&null!=n&&(a=!0,r=n,o.push(n))})),a&&(n.value=n.config.mode&&["tags","multiple"].includes(n.config.mode)?o:r),n.config.options=t.map((function(e){return{label:e.label,value:e.value,disabled:e.disabled}}))})),i.setLoading((function(e){n.config=B(B({},n.config),{loading:e})})),i.setDisabled((function(){n.config.disabled=!0})),i.setEnabled((function(){n.config.disabled=!1}))}),[]);var u=(0,r.useCallback)((function(e){n.value=e,c.onChange(e)}),[]),l=(0,r.useCallback)((function(e){c.onBlur(n.value)}),[]);return n.visible&&o().createElement("div",{className:_.select},o().createElement(a.Select,B({},n.config,{options:t.edit?n.staticOptions:n.config.options,value:n.value,onChange:u,onBlur:l})))}},1519:(e,t,n)=>{n.d(t,{Z:()=>c});var r=n(7009),o=n.n(r),a=n(8814),i=n.n(a)()(o());i.push([e.id,".select-f8c56 .ant-select {\n  width: 100%;\n}\n",""]),i.locals={select:"select-f8c56"};const c=i},3379:e=>{var t=[];function n(e){for(var n=-1,r=0;r<t.length;r++)if(t[r].identifier===e){n=r;break}return n}function r(e,r){for(var a={},i=[],c=0;c<e.length;c++){var s=e[c],u=r.base?s[0]+r.base:s[0],l=a[u]||0,f="".concat(u," ").concat(l);a[u]=l+1;var d=n(f),p={css:s[1],media:s[2],sourceMap:s[3],supports:s[4],layer:s[5]};if(-1!==d)t[d].references++,t[d].updater(p);else{var v=o(p,r);r.byIndex=c,t.splice(c,0,{identifier:f,updater:v,references:1})}i.push(f)}return i}function o(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,o){var a=r(e=e||[],o=o||{});return function(e){e=e||[];for(var i=0;i<a.length;i++){var c=n(a[i]);t[c].references--}for(var s=r(e,o),u=0;u<a.length;u++){var l=n(a[u]);0===t[l].references&&(t[l].updater(),t.splice(l,1))}a=s}}},569:e=>{var t={};e.exports=function(e,n){var r=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},9216:e=>{e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},8575:e=>{e.exports=function(e,t){Object.keys(t).forEach((function(n){e.setAttribute(n,t[n])}))}},7795:e=>{e.exports=function(e){var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var o=void 0!==n.layer;o&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,o&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var a=n.sourceMap;a&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),t.styleTagTransform(r,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},4589:e=>{e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},2721:e=>{e.exports=t},359:t=>{t.exports=e}},r={};function o(e){var t=r[e];if(void 0!==t)return t.exports;var a=r[e]={id:e,exports:{}};return n[e](a,a.exports,o),a.exports}o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},o.d=(e,t)=>{for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var a={};return(()=>{let e;o.r(a),o.d(a,{default:()=>t}),e={namespace:"mybricks.normal-pc.select",version:"1.0.0",runtime:o(8274).Z};const t=e})(),a})()));